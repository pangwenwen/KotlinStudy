package com.example.kotlint.foundation

fun main() {
    // æ•°ç»„:æ³›å‹åŒ–ï¼ŒKotlin å¯ä»¥ç»™æ•°ç»„å¢åŠ å¾ˆå¤šæœ‰ç”¨çš„å·¥å…·å‡½æ•°ï¼š
    // æ•°ç»„ä¸æ”¯æŒåå¤‰ï¼šå­ç±»æ•°ç»„å¯¹è±¡ä¸èƒ½èµ‹å€¼ç»™çˆ¶ç±»çš„æ•°ç»„å˜é‡
    val strs:Array<Int> = arrayOf(1,2,3,4,5,6)
    // éå†
    strs.forEach {
        print(it)
    }
    // è¿‡æ»¤
    val strf = strs.filter {
        it%3==0
    }
    println(strf.size)

    // ä¸ºæ¯ä¸ªå…ƒç´ æ‰§è¡Œç‰¹å®šçš„æ“ä½œ
    val stfm = strs.map {
        it+2
    }
    stfm.forEach {
        println(it )
    }

    //flatMapï¼šéå†æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºæ–°çš„é›†åˆï¼Œæœ€ååˆå¹¶åˆ°ä¸€ä¸ªé›†åˆä¸­
    val array1 = arrayOf("2","3","a")
    val hh = array1.flatMap { i ->
        listOf("${i + 1}", "a") // ğŸ‘ˆ ç”Ÿæˆæ–°é›†åˆ
    }
    hh.forEach {
        println(it)
    }

   // list æ”¯æŒåå¤‰
    val list1 = listOf(1,2,3,4,5,6)
    var list2= list1
   // set
    val set1 = setOf(1,2,3,1)
    println(set1.size)


    // map
    val mapf = mutableMapOf("haha" to 3)
    println(mapf["haha"])
    mapf["haha"] = 6

    // æ¡ä»¶è¯­å¥
    //çœç•¥äº† case å’Œ breakï¼Œå‰è€…æ¯”è¾ƒå¥½ç†è§£ï¼Œåè€…çš„æ„æ€æ˜¯ Kotlin è‡ªåŠ¨ä¸ºæ¯ä¸ªåˆ†æ”¯åŠ ä¸Šäº† break çš„åŠŸèƒ½ï¼Œé˜²æ­¢æˆ‘ä»¬åƒ Java é‚£æ ·å†™é”™
    //Java ä¸­çš„é»˜è®¤åˆ†æ”¯ä½¿ç”¨çš„æ˜¯ default å…³é”®å­—ï¼ŒKotlin ä¸­ä½¿ç”¨çš„æ˜¯ else
    val x = 3;
    when (x) {
            1 -> { println("1") }
            2 -> { println("2") }
            else -> { println("else") }
    }

    // ?: æ“ä½œç¬¦
    val str: String? = "Hello"
    val length: Int = str?.length ?: -1


    //================================================
    println("==========================================")
    val rn = 1..10 // [1,10] å¿…é¡»ä»å°åˆ°å¤§
    for (i in rn){
        print(i)
    }
    println()

    for (i in rn step 2){
        print(i)
    }
    println()
    // é€’å‡åŒºé—´
    for (i in 4 downTo 1 step 2){
        print(i)
    }

    //=====================================
    println("========================================== åºåˆ— Sequence åˆè¢«ç§°ä¸ºã€Œæƒ°æ€§é›†åˆæ“ä½œã€")
    val sequence = sequenceOf(1, 2, 3, 4)
    val result: Sequence<Int> = sequence
            .map { i ->
                println("Map $i")
                i * 2
            }
            .filter { i ->
                println("Filter $i")
                i % 3  == 0
            }
//    ğŸ‘‡
    println(result.first())
    /**
     * æƒ°æ€§çš„æ¦‚å¿µé¦–å…ˆå°±æ˜¯è¯´åœ¨ã€ŒğŸ‘‡ã€æ ‡æ³¨ä¹‹å‰çš„ä»£ç è¿è¡Œæ—¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œå®ƒåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ‰§è¡Œæµç¨‹ï¼Œåªæœ‰ result è¢«ä½¿ç”¨åˆ°çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ

    å½“ã€ŒğŸ‘‡ã€çš„ println æ‰§è¡Œæ—¶æ•°æ®å¤„ç†æµç¨‹æ˜¯è¿™æ ·çš„ï¼š

    å–å‡ºå…ƒç´  1 -> map ä¸º 2 -> filter åˆ¤æ–­ 2 æ˜¯å¦èƒ½è¢« 3 æ•´é™¤
    å–å‡ºå…ƒç´  2 -> map ä¸º 4 -> filter åˆ¤æ–­ 4 æ˜¯å¦èƒ½è¢« 3 æ•´é™¤
    ...
    æƒ°æ€§æŒ‡å½“å‡ºç°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼ŒSequence å°±ä¸ä¼šæ‰§è¡Œåé¢çš„å…ƒç´ éå†äº†ï¼Œå³è·³è¿‡äº† 4 çš„éå†

     >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>ä¼˜ç‚¹
    Sequence è¿™ç§ç±»ä¼¼æ‡’åŠ è½½çš„å®ç°æœ‰ä¸‹é¢è¿™äº›ä¼˜ç‚¹ï¼š

    ä¸€æ—¦æ»¡è¶³éå†é€€å‡ºçš„æ¡ä»¶ï¼Œå°±å¯ä»¥çœç•¥åç»­ä¸å¿…è¦çš„éå†è¿‡ç¨‹ã€‚
    åƒ List è¿™ç§å®ç° Iterable æ¥å£çš„é›†åˆç±»ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡å‡½æ•°å°±ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ Iterableï¼Œä¸‹ä¸€ä¸ªå‡½æ•°å†åŸºäºæ–°çš„ Iterable æ‰§è¡Œï¼Œæ¯æ¬¡å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„ä¸´æ—¶ Iterable ä¼šå¯¼è‡´é¢å¤–çš„å†…å­˜æ¶ˆè€—ï¼Œè€Œ Sequence åœ¨æ•´ä¸ªæµç¨‹ä¸­åªæœ‰ä¸€ä¸ªã€‚
    å› æ­¤ï¼ŒSequence è¿™ç§æ•°æ®ç±»å‹å¯ä»¥åœ¨æ•°æ®é‡æ¯”è¾ƒå¤§æˆ–è€…æ•°æ®é‡æœªçŸ¥çš„æ—¶å€™ï¼Œä½œä¸ºæµå¼å¤„ç†çš„è§£å†³æ–¹æ¡ˆã€‚
     */

}
